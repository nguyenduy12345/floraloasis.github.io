//IMPORT


class Products{
    constructor(id, name, intro, src, type, price){
        this.id = id,
        this.name = name,
        this.intro = intro,
        this.src = src,
        this.type = type,
        this.price = price
    }
}
//FLOWERS
const fl1 = new Products("fl_1", "baby blue rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/baby_blue_rose.JPG", "roses", 19)
const fl2 = new Products("fl_2", "blush rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/blush_rose.webp", "roses", 21)
const fl3 = new Products("fl_3", "dozen rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/dozen_rose.webp", "roses", 17)
const fl4 = new Products("fl_4", "floribunda rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/floribunda_rose.jpg", "roses", 20)
const fl5 = new Products("fl_5", "ivory avalanche rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/ivory_avalanche_rose.jpg", "roses", 18)
const fl6 = new Products("fl_6", "juliette rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/juliette_rose.JPG", "roses", 30)
const fl7 = new Products("fl_7", "memory lane rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/memory-lane-rose.jpg", "roses", 22)
const fl8 = new Products("fl_8", "mixed rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/mixed-rose.webp", "roses", 25)
const fl9 = new Products("fl_9", "new baby rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/new_baby_rose.webp", "roses", 29)
const fl10 = new Products("fl_10", "orange naranga rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/orange_naranga_rose.jpg", "roses", 50)
const fl11 = new Products("fl_11", "peach avalanche rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/peach_avalanche_rose.jpg", "roses", 35)
const fl12 = new Products("fl_12", "pink rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/pink_rose.jpg", "roses", 29)
const fl13 = new Products("fl_13", "rainbow mixed set", "Let beautiful flowers express your love for that person!", "./img/flower/roses/rainbow_mixed_set.jpg", "roses", 47)
const fl14 = new Products("fl_14", "rebecca rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/rebecca_rose.jpg", "roses", 52)
const fl15 = new Products("fl_15", "red naomi rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/red_naomi_rose.jpg", "roses", 24)
const fl16 = new Products("fl_16", "spray rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/spray_rose.jpg", "roses", 27)
const fl17 = new Products("fl_17", "spring mixed rose", "Let beautiful flowers express your love for that person!", "./img/flower/roses/spring_mixed_rose.jpg", "roses", 55)
const fl18 = new Products("fl_18", "tequila sunrise rose", "Let beautiful flowers express your love for that person!", "../img/flower/roses/tequila-sunrise-rose.jpg", "roses", 24)
const fl19 = new Products("fl_19", "baby blue tulip", "Let beautiful flowers express your love for that person!", "../img/flower/tulips/baby_blue_tulip.JPG", "tulips", 24)
const fl20 = new Products("fl_20", "canary dutch tulip", "Let beautiful flowers express your love for that person!", "../img/flower/tulips/canary_dutch_tulip.jpg", "tulips", 20)
const fl21 = new Products("fl_21", "coral crush tulips", "Let beautiful flowers express your love for that person!", "../img/flower/tulips/coral_crush_tulips.jpg", "tulips", 22)
const fl22 = new Products("fl_22", "ebony tulip", "Let beautiful flowers express your love for that person!", "../img/flower/tulips/ebony_tulip.jpg", "tulips", 27)
const fl23 = new Products("fl_23", "french kiss dutch tulip", "Let beautiful flowers express your love for that person!", "../img/flower/tulips/french_kiss_dutch_tulip.jpg", "tulips", 35)
const fl24 = new Products("fl_24", "juliette tulip", "Let beautiful flowers express your love for that person!", "../img/flower/tulips/juliette_tulip.JPG", "tulips", 20)
const fl25 = new Products("fl_25", "lemon sherbet fringed tulip", "Let beautiful flowers express your love for that person!", "../img/flower/tulips/lemon_sherbet_fringed_tulip.jpg", "tulips", 55)
const fl26 = new Products("fl_26", "lilac lust dutch tulip", "Let beautiful flowers express your love for that person!", "../img/flower/tulips/lilac_lust_dutch_tulip.jpg", "tulips", 50)
const fl27 = new Products("fl_27", "mellow yellow double tulip", "Let beautiful flowers express your love for that person!", "../img/flower/tulips/mellow_yellow_double_tulip.jpg", "tulips", 29)
const fl28 = new Products("fl_28", "mixed tulip", "Let beautiful flowers express your love for that person!", "./img/flower/tulips/mixed_tulip.JPG", "tulips", 32)
const fl29 = new Products("fl_29", "parrot tulip rococo parrot tulip", "Let beautiful flowers express your love for that person!", "./img/flower/tulips/parrot_tulip_rococo_parrot_tulip.jpg", "tulips", 35)
const fl30 = new Products("fl_30", "petal pink parrot tulip", "Let beautiful flowers express your love for that person!", "./img/flower/tulips/petal_pink_parrot_tulip.jpg", "tulips", 35)
const fl31 = new Products("fl_31", "princess pink doube tulip", "Let beautiful flowers express your love for that person!", "./img/flower/tulips/princess_pink_doube_tulip.jpg", "tulips", 40)
const fl32 = new Products("fl_32", "scarlet double tulip", "Let beautiful flowers express your love for that person!", "./img/flower/tulips/scarlet_double_tulip.jpg", "tulips", 50)
const fl33 = new Products("fl_33", "siren pink double tulip", "Let beautiful flowers express your love for that person!", "./img/flower/tulips/siren_pink_double_tulip.jpg", "tulips", 29)
const fl34 = new Products("fl_34", "tart double tulip", "Let beautiful flowers express your love for that person!", "./img/flower/tulips/tart_double_tulip.jpg", "tulips", 39)
const fl35 = new Products("fl_35", "violacious dutch tulip", "Let beautiful flowers express your love for that person!", "./img/flower/tulips/violacious_dutch_tulip.jpg", "tulips", 30)
const fl36 = new Products("fl_36", "white hot dutch", "Let beautiful flowers express your love for that person!", "./img/flower/tulips/white_hot_dutch.jpg", "tulips", 35)

//CAKES.
const cake1 = new Products("cake_1", "Angel Food Cake", "Indulge in the rich and decadent flavor of chocolate with this delightful cake!", "./img/cakes/AngelFoodCake.jpg", "cakes", 15);
const cake2 = new Products("cake_2", "Banoffee Pie", "Enjoy the classic simplicity of vanilla with this moist and flavorful cake!", "./img/cakes/BanoffeePie.jpg", "cakes", 12);
const cake3 = new Products("cake_3", "Black Forest", "Delight your taste buds with the sweetness of fresh strawberries in this heavenly cake!", "./img/cakes/BlackForest.jpg", "cakes", 18);
const cake4 = new Products("cake_4", "carrotcake", "Experience the luxurious taste of red velvet in this elegant and indulgent cake!", "./img/cakes/carrot-cake.jpg", "cakes", 20);
const cake5 = new Products("cake_5", "Cheese cake", "Refresh your palate with the zesty flavor of lemon in this light and tangy cake!", "./img/cakes/Cheesecake.jpg", "cakes", 16);
const cake6 = new Products("cake_6", "Chiffon Cake", "Savor the warmth and spice of carrot cake, topped with creamy frosting and nuts!", "./img/cakes/ChiffonCake.jpg", "cakes", 22);
const cake7 = new Products("cake_7", "Chocolate Truffle", "Transport yourself to a tropical paradise with the exotic flavor of coconut in this luscious cake!", "./img/cakes/ChocolateTruffle.jpg", "cakes", 19);
const cake8 = new Products("cake_8", "Coconut Cream", "Indulge in the natural sweetness of bananas in this moist and flavorful cake!", "./img/cakes/CoconutCream.jpg", "cakes", 17);
const cake9 = new Products("cake_9", "Coffee Cake", "Experience a taste of nostalgia with this classic pineapple upside-down cake, topped with caramelized fruit!", ".../img/cakes/CoffeeCake.jpg", "cakes", 21);
const cake10 = new Products("cake_10", "Funfetti Cake", "Enjoy the best of both worlds with this delicious marble cake, featuring swirls of chocolate and vanilla!", ".../img/cakes/FunfettiCake.jpg", "cakes", 14);
const cake11 = new Products("cake_11", "German Chocolate Cake", "Delight in the burst of flavor from juicy blueberries in this moist and irresistible cake!", ".../img/cakes/GermanChocolateCake.jpg", "cakes", 24);
const cake12 = new Products("cake_12", "Hazelnut Cake", "Satisfy your cravings with the rich and robust flavor of coffee in this delectable cake!", ".../img/cakes/HazelnutCake.jpg", "cakes", 23);
const cake13 = new Products("cake_13", "Lemon Meringue", "Indulge in the sweet and buttery goodness of caramel in this decadent cake!", ".../img/cakes/LemonMeringue.webp", "cakes", 28);
const cake14 = new Products("cake_14", "Mango Cake", "Treat yourself to the irresistible combination of cookies and cream in this creamy and indulgent cake!", ".../img/cakes/MangoCake.jpg", "cakes", 26);
const cake15 = new Products("cake_15", "Marble Cake", "Celebrate with a burst of colors and flavors in this vibrant and cheerful rainbow cake!", ".../img/cakes/MarbleCake.jpg", "cakes", 30);
const cake16 = new Products("cake_16", "mon tiramisu", "Enjoy the delicate and earthy flavor of matcha in this unique and delightful cake!", ".../img/cakes/mon-tiramisu.jpg", "cakes", 25);
const cake17 = new Products("cake_17", "Opera Cake", "Indulge in the perfect balance of sweet and salty with this decadent salted caramel chocolate cake!", "../img/cakes/OperaCake.webp", "cakes", 32);
const cake18 = new Products("cake_18", "Peanut Butter Chocolate Cake", "Experience the nutty and aromatic flavor of pistachios in this rich and flavorful cake!", "../img/cakes/PeanutButterChocolateCake.jpg", "cakes", 27);
const cake19 = new Products("cake_19", "Pineapple Upside Down Cake", "Transport yourself to Italy with the rich and creamy layers of espresso-soaked ladyfingers in this classic tiramisu cake!", "../img/cakes/PineappleUpside-DownCake.webp", "cakes", 29);
const cake20 = new Products("cake_20", "Pistachio Cake", "Indulge in the tangy and creamy goodness of raspberries in this luxurious cheesecake!", "../img/cakes/PistachioCake.jpg", "cakes", 31);
const cake21 = new Products("cake_21", "Pound Cake", "Savor the sweetness of ripe strawberries in this light and fluffy shortcake topped with whipped cream!", "../img/cakes/PoundCake.jpg", "cakes", 33);
const cake22 = new Products("cake_22", "Raspberry Cake", "Experience the decadence of chocolate and cherries in this rich and indulgent black forest cake!", "../img/cakes/RaspberryCake.jpg", "cakes", 35);
const cake23 = new Products("cake_23", "red Velvet", "Celebrate the flavors of fall with the warm and aromatic spices in this delicious pumpkin spice cake!", "../img/cakes/redVelvet.jpg", "cakes", 36);
const cake24 = new Products("cake_24", "Strawberry Short cake", "Indulge in the delicate and floral flavor of lavender in this elegant and aromatic cake!", "../img/cakes/StrawberryShortcake.jpg", "cakes", 34);
const cake25 = new Products("cake_25", "Valentines cake", "Enjoy the delicate and earthy flavor of matcha in this unique and delightful cake!", "../img/cakes/valentines-cake.jpg", "cakes", 24);

//ACCESSORIES
const accessory1 = new Products("accessory_1", "Birthday Card", "Let beautiful flowers express your love for that person!", "./img/accessories/BirthdayCard.jpg", "accessories", 5);
const accessory2 = new Products("accessory_2", "box gift", "Add a touch of elegance to your outfit with this stunning necklace.", "./img/accessories/boxgift.webp", "accessories", 3);
const accessory3 = new Products("accessory_3", "Bud Vase", "Complete your look with this stylish and versatile bracelet.", "./img/accessories/BudVase.jpg", "accessories", 19);
const accessory4 = new Products("accessory_4", "Clear Acrylic Gift Box", "Make a statement with these eye-catching earrings, perfect for any occasion.", "./img/accessories/ClearAcrylicGiftBox.jpg", "accessories", 20);
const accessory5 = new Products("accessory_5", "Congratulations Card", "Stay cozy and stylish with this soft and luxurious scarf.", "./img/accessories/CongratulationsCard.jpg", "accessories", 8);
const accessory6 = new Products("accessory_6", "Cube Vase", "Carry your essentials in style with this chic and practical handbag.", "./img/accessories/CubeVase.jpg", "accessories", 6);
const accessory7 = new Products("accessory_7", "Cylinder Vase", "Keep your cards and cash organized with this sleek and functional wallet.", "./img/accessories/CylinderVase.webp", "accessories", 30);
const accessory8 = new Products("accessory_8", "Fishbowl Vase", "Protect your eyes and elevate your look with these trendy sunglasses.", "./img/accessories/FishbowlVase.jpg", "accessories", 19);
const accessory9 = new Products("accessory_9", "Heart Shaped Gift Box", "Stay cool and stylish under the sun with this fashionable hat.", "./img/accessories/Heart-Shaped-Gift-Box.jpg", "accessories", 22);
const accessory10 = new Products("accessory_10", "Hurricane Vase", "Stay punctual and polished with this timeless watch.", "./img/accessories/HurricaneVase.jpg", "accessories", 21);
const accessory11 = new Products("accessory_11", "original thank you cards", "Complete your formal look with this classic and sophisticated tie.", "./img/accessories/original_thank-you-cards.jpg", "accessories", 28);
const accessory12 = new Products("accessory_12", "Square Gift Box", "Add the finishing touch to your outfit with this sleek and stylish belt.", "./img/accessories/SquareGiftBox.jpg", "accessories", 32);
const accessory13 = new Products("accessory_13", "Square Vase", "Elevate your shirt game with these elegant and refined cufflinks.", "./img/accessories/SquareVase.webp", "accessories", 12);
const accessory14 = new Products("accessory_14", "Sympathy Card", "Stay dry and stylish on rainy days with this chic and practical umbrella.", "./img/accessories/SympathyCard.jpg", "accessories", 25);
const accessory15 = new Products("accessory_15", "Teardrop Vase", "Add a pop of color and personality to your look with this vibrant scarf.", "./img/accessories/TeardropVase.jpg", "accessories", 20);
const accessory16 = new Products("accessory_16", "Trumpet Vase", "Keep your hands warm and toasty with these cozy and stylish gloves.", "./img/accessories/TrumpetVase.jpg", "accessories", 18);
const accessory17 = new Products("accessory_17", "Urn Vase", "Step up your sock game with these fun and funky socks.", "./img/accessories/UrnVase.jpeg", "accessories", 12);
const accessory18 = new Products("accessory_18", "Wedding Card", "Add a touch of sophistication to your tie with this sleek and modern tie clip.", "./img/accessories/WeddingCard.jpg", "accessories", 15);

const products = []
products.push(cake1, cake2, cake3, cake4, cake5, cake6, cake7, cake8, cake9, cake10, cake11, cake12, cake13, cake14, cake15, cake16, cake17, cake18, cake19, cake20, cake21, cake22, cake23, cake24, cake25)
products.push(fl1, fl2, fl3, fl4, fl5, fl6, fl7, fl8, fl9, fl10, fl11, fl12, fl13, fl14, fl15, fl16, fl17, fl18, fl19, fl20, fl21, fl22, fl23, fl25, fl24, fl26, fl28, fl27, fl29, fl30, fl31, fl32, fl33, fl34, fl35, fl36)
products.push(accessory1, accessory2, accessory3, accessory4, accessory5, accessory6, accessory7, accessory8, accessory9, accessory10, accessory11, accessory12, accessory13, accessory14, accessory15, accessory16, accessory17, accessory18);
// PUSH TO LOCALSTORAGE
let setLocalProducts = products
    localStorage.setItem('PRODUCTS', JSON.stringify(setLocalProducts))
//

let productList = document.querySelector('#product_list')
// let productFlowers = 
let listProducts = []
products.filter(product =>{
    if(product.type == "roses" || product.type =="tulips"){
        listProducts.push(product)
    }
})
let renderProduct = (list) =>{
    let listPost = document.createElement('div');
    listPost.classList.add('row')
    // listPost.classList.add('justify-content-between')
    for(let i = 0; i < list.length; i++){
    listPost.innerHTML += `
    <div id=${list[i].id} class="product_list_item col-sm-12 col-md-6 col-lg-4 pe-2">
    <div class="product_img">
        <img src="${list[i].src}">
        <div class="product_cart text-uppercase"><i class="fa-solid fa-eye me-2"></i>View product</div>   
    </div>
    <div class="product-description">
        <div class="product_title">${list[i].name}</div>
        <div class="product_text pt-2">${list[i].intro}</div>
        <div class="product_price">Price: $${list[i].price}</div>
    </div>
    </div>`
    productList.appendChild(listPost)
    }      
}
renderProduct(listProducts)

// QUANTITY ITEM AT PAGE
let currentPage = 1
let limitPost = 9
let listPost = productList.querySelectorAll('.product_list_item')

let loadPerPage = (list) =>{
    let beginPost = limitPost * (currentPage - 1)
    let endPost = limitPost * currentPage - 1
    list.forEach((item, key) =>{
        if(key >= beginPost && key <= endPost){
            item.style.display = "block";
        }else{
            item.style.display = "none";
        }
    })
}
loadPerPage(listPost);

// QUANTITY PAGE
let pageList = document.querySelector('#flowers .product_page #page_list')
let listPage = (list) =>{
    let qtyPage = Math.ceil(list.length / limitPost)
    for(i = 1; i <= qtyPage; i++){
        let page = document.createElement('div')
        page.classList.add('btn')
        page.classList.add('btn_page')
        page.innerText = i
        pageList.appendChild(page)
        page.setAttribute('onclick', `changePage(${i})`)
        if(currentPage == i){
            page.classList.add('btn_page_active')
        }
    }
}
listPage(listPost)

//CHANGE PAGE 
let changePage = (i) =>{
    currentPage = i;
    let pages = pageList.querySelectorAll('.btn_page')
    let thispage = pageList.querySelector('.btn_page_active')
    if(thispage){
        thispage.classList.remove('btn_page_active')
        pages[i-1].classList.add('btn_page_active')
    }else{
        pages[i-1].classList.add('btn_page_active')
    }
    loadPerPage(listPost)
}

//PREV PAGE
let prevPage = document.querySelector('#prev_page')
prevPage.onclick = (i) => {
    if(currentPage > 1){
        currentPage--
        i = currentPage
        changePage(i)
        loadPerPage(listPost)
    }
}

//NEXT PAGE
let nextPage = document.querySelector('#next_page')
nextPage.onclick = (i) =>{
    let qtyPage = Math.ceil(listPost.length / limitPost)
    if(currentPage < qtyPage){
        currentPage++
        i = currentPage
        changePage(i)
        loadPerPage(listPost)
    }
}
//SET CLASS ACTIVE FILTER
let filterItems =  document.querySelectorAll('.product_filter .product_filter_item') 
    filterItems.forEach(filterItem =>{
        filterItem.onclick = () =>{
            let activeFilter = document.querySelector('#flowers .product_filter .active') 
            if(activeFilter){
                activeFilter.classList.remove('active')
                filterItem.classList.toggle('active')  
            }else{
                filterItem.classList.toggle('active')
            }  
        } 
    })

// TITLE PRODUCT
let titleProduct = document.querySelector('#title_products')

//FILTER ALL 
function filterAll(){
        titleProduct.innerText = "FLOWERS"
        let currentListPost = productList.querySelectorAll('.product_list_item')
        for(let postItem of currentListPost){
            postItem.remove(postItem)
        }
        let currentPages = pageList.querySelectorAll('.btn_page')
        for(let page of currentPages){
            page.remove(page)
        }
        renderProduct(listProducts)
        let allListPort = productList.querySelectorAll('.product_list_item')
        loadPerPage(allListPort)
        listPage(allListPort)
        let listPagesCur = document.querySelectorAll('.btn_page')
        for(let listPageCur of listPagesCur){
            listPageCur.onclick = (i) =>{
                currentPage = i.target.innerText
                loadPerPage(allListPort)
                let thispage = pageList.querySelector('.btn_page_active')
                if(thispage){
                    thispage.classList.remove('btn_page_active')
                    listPageCur.classList.add('btn_page_active')
                }else{
                    listPageCur.classList.add('btn_page_active')
                }
            }
            let prevPage = document.querySelector('#prev_page')
            prevPage.onclick = (i) => {
                if(currentPage > 1){
                    currentPage--
                    i = currentPage
                    if(i == currentPage){
                        let thispage = pageList.querySelector('.btn_page_active')
                        if(thispage){
                            thispage.classList.toggle('btn_page_active')
                            listPagesCur[i - 1].classList.add('btn_page_active')
                        }
                    }
                    loadPerPage(allListPort)
                }
            }
            let nextPage = document.querySelector('#next_page')
            nextPage.onclick = (i) =>{
                let qtyPage = Math.ceil(allListPort.length / limitPost)
                if(currentPage < qtyPage){
                    currentPage++
                    i = currentPage
                    if(i == currentPage){
                        let thispage = pageList.querySelector('.btn_page_active')
                        if(thispage){
                            thispage.classList.toggle('btn_page_active')
                            listPagesCur[i - 1].classList.add('btn_page_active')
                        }
                    }
                    loadPerPage(allListPort)
                }
            }   
        }
        renderOtherProduct()
    }

// FILTER TYPE

// ROSE
let typeRose = document.querySelector('#type_rose')
    typeRose.onclick = () =>{
        titleProduct.innerText = "roses"
        let currentListPost = productList.querySelectorAll('.product_list_item')
        for(let postItem of currentListPost){
            postItem.remove(postItem)
        }
        let currentPages = pageList.querySelectorAll('.btn_page')
        for(let page of currentPages){
            page.remove(page)
        }
        let productRose = listProducts.filter(listProduct =>{
        return listProduct.type == 'roses'
        })
        renderProduct(productRose)
        let listPostRose = productList.querySelectorAll('.product_list_item')
        loadPerPage(listPostRose)
        listPage(listPostRose)
        let listPagesCur = document.querySelectorAll('.btn_page')
        for(let listPageCur of listPagesCur){
            listPageCur.onclick = (i) =>{
                currentPage = i.target.innerText
                loadPerPage(listPostRose)
                let thispage = pageList.querySelector('.btn_page_active')
                if(thispage){
                    thispage.classList.remove('btn_page_active')
                    listPageCur.classList.add('btn_page_active')
                }else{
                    listPageCur.classList.add('btn_page_active')
                }
            }
            // PREV ROSE
            let prevPage = document.querySelector('#prev_page')
            prevPage.onclick = (i) => {
                if(currentPage > 1){
                    currentPage--
                    i = currentPage
                    if(i == currentPage){
                        let thispage = pageList.querySelector('.btn_page_active')
                        if(thispage){
                            thispage.classList.toggle('btn_page_active')
                            listPagesCur[i-1].classList.add('btn_page_active')
                        }
                    }
                    loadPerPage(listPostRose)
                }
            }
            // NEXT ROSE
            let nextPage = document.querySelector('#next_page')
            nextPage.onclick = (i) =>{
                let qtyPage = Math.ceil(listPostRose.length / limitPost)
                if(currentPage < qtyPage){
                    currentPage++
                    i = currentPage
                    if(i == currentPage){
                        let thispage = pageList.querySelector('.btn_page_active')
                        if(thispage){
                            thispage.classList.remove('btn_page_active')
                            listPageCur.classList.add('btn_page_active')
                        }else{
                            listPageCur.classList.add('btn_page_active')
                        }
                    }
                    loadPerPage(listPostRose)
                }
            }   
        }
        renderOtherProduct()
    }
    

// TULIPS

let typeTulip = document.querySelector('#type_tulip')
    typeTulip.onclick = () =>{
        titleProduct.innerText = "tulips"
        let currentListPost = productList.querySelectorAll('.product_list_item')
        for(let postItem of currentListPost){
            postItem.remove(postItem)
        }
        let currentPages = pageList.querySelectorAll('.btn_page')
        for(let page of currentPages){
            page.remove(page)
        }
        let productTulip= listProducts.filter(listProduct =>{
        return listProduct.type == 'tulips'
        })
        renderProduct(productTulip)
        let listPostTulip = productList.querySelectorAll('.product_list_item')
        loadPerPage(listPostTulip)
        listPage(listPostTulip)
        let listPagesCur = document.querySelectorAll('.btn_page')
        for(let listPageCur of listPagesCur){
            listPageCur.onclick = (i) =>{
                currentPage = i.target.innerText
                loadPerPage(listPostTulip)
                let thispage = pageList.querySelector('.btn_page_active')
                if(thispage){
                    thispage.classList.remove('btn_page_active')
                    listPageCur.classList.add('btn_page_active')
                }else{
                    listPageCur.classList.add('btn_page_active')
                }
            }
            // PREV TULIP PAGE
            let prevPage = document.querySelector('#prev_page')
            prevPage.onclick = (i) => {
                if(currentPage > 1){
                    currentPage--
                    i = currentPage
                    if(i == currentPage){
                        let thispage = pageList.querySelector('.btn_page_active')
                        if(thispage){
                            thispage.classList.toggle('btn_page_active')
                            listPagesCur[i-1].classList.add('btn_page_active')
                        }
                    }
                    loadPerPage(listPostTulip)
                }
            }
            // NEXT TULIP PAGE
            let nextPage = document.querySelector('#next_page')
            nextPage.onclick = (i) =>{
                let qtyPage = Math.ceil(listPostTulip.length / limitPost)
                if(currentPage < qtyPage){
                    currentPage++
                    i = currentPage
                    if(i == currentPage){
                        let thispage = pageList.querySelector('.btn_page_active')
                        if(thispage){
                            thispage.classList.remove('btn_page_active')
                            listPageCur.classList.add('btn_page_active')
                        }else{
                            listPageCur.classList.add('btn_page_active')
                        }
                    }
                    loadPerPage(listPostTulip)
                }
            }   
        }
        renderOtherProduct()
    }

//FILTER PRICE
let btnPrice = document.querySelector('.submit_price')
    btnPrice.onclick = () =>{
        let frPrice = document.getElementById('from_price')        
        let toPrice = document.getElementById('to_price')
        let errPrice = document.querySelector('.error_price')
        let valueRanges
        if(frPrice.value == ""){
            frPrice.value = 0
        }
        if(toPrice.value == ""){
            toPrice.value = 0
        }
        if(+frPrice.value > +toPrice.value){
            errPrice.innerText = "can't"
        }else{
            valueRanges= [{
                "min": frPrice.value,
                "max": toPrice.value
            }]
        }
        
        // GET PRODUCT PERPAGE 
        let listPostPage = []
        // GET LIST PRODUCT LOCAL
        let listProDuct = JSON.parse(localStorage.getItem('PRODUCTS'))
        // GET LIST PRODUCT
        let currentListPosts = document.querySelectorAll('.product_list_item')
            for( let listPost of currentListPosts){
                listProDuct.filter((item, key) =>{
                    if(listPost.id == item.id){
                        listPostPage.push(item)
                    }
                })
            }
        //GET ITEM range price
        let checkPostPrice = []
        if(valueRanges){
            for(let postPage of listPostPage){
                if(postPage.price >= valueRanges[0].min && postPage.price <= valueRanges[0].max){
                    checkPostPrice.push(postPage)
                }
            }
        }
        currentListPosts.forEach(item => item.remove(item))
        renderProduct(checkPostPrice)
        renderOtherProduct()
        let listPage = document.querySelectorAll('.btn_page')
        listPage.forEach(item => item.remove(item))
        listPage(checkPostPrice)
        
    }
function renderOtherProduct(){
    let listPosts = document.querySelectorAll('.product_list_item') 
        listPosts.forEach(listPost =>{
        listPost.onclick = () =>{
        window.location.href = `/pages/showThatProduct/showproduct.html?productid=${listPost.id}`
    }
})
}
renderOtherProduct()  




